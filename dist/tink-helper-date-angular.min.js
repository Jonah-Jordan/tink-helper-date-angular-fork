/*! tink-helper-date-angular v1.0.3 */
"use strict";!function(module){try{module=angular.module("tink.datehelper")}catch(e){module=angular.module("tink.datehelper",["tink.formathelper"])}module.factory("dateCalculator",function(){function stringToDate(_date,_format){var _delimiter;-1!==_format.indexOf("/")?_delimiter="/":-1!==_format.indexOf("-")?_delimiter="-":-1!==_format.indexOf(".")&&(_delimiter=".");var formatLowerCase=_format.toLowerCase(),formatItems=formatLowerCase.split(_delimiter),dateItems=_date.split(_delimiter),monthIndex=formatItems.indexOf("mm"),dayIndex=formatItems.indexOf("dd"),yearIndex=formatItems.indexOf("yyyy"),month=parseInt(dateItems[monthIndex]);month-=1;var formatedDate=new Date(dateItems[yearIndex],month,dateItems[dayIndex]);if(month>11)return null;var lastDayOfMonth=new Date(dateItems[yearIndex],month+1,0);return dateItems[dayIndex]>lastDayOfMonth.getDate()?null:formatedDate}var nl={DAY:["Zondag","Maandag","DinsDag","Woensdag","Donderdag","Vrijdag","Zaterdag"],MONTH:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],SHORTDAY:["Zo","Ma","Di","Wo","Do","Vr","Za"],SHORTMONTH:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]},dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val};return function(date,mask,utc,lang){var dF=dateFormat;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(date)||/\d/.test(date)||(mask=date,date=void 0),date=date?new Date(date):new Date,isNaN(date))throw new SyntaxError("invalid date");mask=String(dF.masks[mask]||mask||dF.masks["default"]).toLowerCase(),"UTC:"===mask.slice(0,4)&&(mask=mask.slice(4),utc=!0);var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:lang.SHORTDAY[D],dddd:lang.DAY[D],m:m+1,mm:pad(m+1),mmm:lang.SHORTMONTH[m],mmmm:lang.MONTH[m],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:12>H?"a":"p",tt:12>H?"am":"pm",T:12>H?"A":"P",TT:12>H?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!==10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1)})}}();return dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"dd/mm/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},{dateBeforeOther:function(first,last){var firstDate=new Date(first),lastDate=new Date(last);return firstDate.setHours(0,0,0,0),lastDate.setHours(0,0,0,0),firstDate>=lastDate&&null!==lastDate?!0:!1},splitRow:function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},daysBetween:function(first,last){return Math.round(Math.abs((first.getTime()-last.getTime())/864e5))},isSameDate:function(a,b){return angular.isDate(a)&&angular.isDate(b)?(a.setHours(0,0,0,0),b.setHours(0,0,0,0),a.getTime()===b.getTime()):!1},isSameMonth:function(a,b){return angular.isDate(a)&&angular.isDate(b)?(a.setHours(0,0,0,0),b.setHours(0,0,0,0),a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()):!1},getDate:function(date,format){return angular.isDefined(date)&&angular.isDefined(format)&&""!==date.trim()?(date=stringToDate(date,format),null!==date&&"Invalid Date"!==date.toString()?date:null):null},daysInMonth:function(month,year){return angular.isDate(month)?new Date(month.getYear(),month.getMonth()+1,0).getDate():new Date(year,month,0).getDate()},daysInMonthNodays:function(month,year){return new Date(year,month,0).getDate()},format:function(date,format){return null===date||void 0===date||""===date?null:dateFormat(date,format,null,nl)},formatDate:function(date,format){return dateFormat(date,format,null,nl)},getShortDays:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.SHORTDAY}},getShortMonths:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.SHORTMONTH}},getDays:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.DAY}},getMonths:function(lang){switch(lang!==angular.isDefined(lang)&&(lang="nl"),lang.toLowerCase()){case"nl":return nl.MONTH}}}})}(),function(module){try{module=angular.module("tink.datehelper")}catch(e){module=angular.module("tink.datehelper",["tink.formathelper"])}module.factory("calView",["dateCalculator",function(dateCalculator){function isSameDate(a,b){return angular.isDate(a)&&angular.isDate(b)?(a.setHours(0,0,0,0),b.setHours(0,0,0,0),a.getTime()===b.getTime()):!1}function inRange(date,first,last){return angular.isDate(first)&&angular.isDate(last)&&angular.isDate(date)?(date.setHours(0,0,0,0),first.setHours(0,0,0,0),last.setHours(0,0,0,0),date>first&&last>date?!0:!1):!1}function mod(n,m){return(n%m+m)%m}function callCullateData(date){var year=date.getFullYear(),month=date.getMonth(),firstDayOfMonth=new Date(year,month,1),firstDayOfWeek=new Date(+firstDayOfMonth-864e5*mod(firstDayOfMonth.getDay()-1,7)),offsetDayOfMonth=firstDayOfMonth.getTimezoneOffset(),offsetDayOfweek=firstDayOfWeek.getTimezoneOffset();offsetDayOfMonth!==offsetDayOfweek&&(firstDayOfWeek=new Date(+firstDayOfWeek+6e4*(offsetDayOfweek-offsetDayOfMonth)));var daysToDraw=dateCalculator.daysInMonth(date)+dateCalculator.daysBetween(firstDayOfWeek,firstDayOfMonth);return daysToDraw%7!==0&&(daysToDraw+=7-daysToDraw%7),{days:daysToDraw,firstDay:firstDayOfWeek}}function split(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays}function daysInRows(date,selectedDate,before,after){for(var day,monthCall=callCullateData(date),today=new Date,days=[],i=0;i<monthCall.days;i++){day=new Date(monthCall.firstDay.getFullYear(),monthCall.firstDay.getMonth(),monthCall.firstDay.getDate()+i);var isMuted=!1;day.getMonth()!==date.getMonth()&&(isMuted=!0);var isSelected=!1;angular.isDate(selectedDate)&&(isSelected=selectedDate.toDateString()===day.toDateString());var disable=!1;angular.isDate(before)&&!dateCalculator.dateBeforeOther(day,before)&&(disable=!0),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,day)&&(disable=!0),days.push({date:day,selected:isSelected,isToday:day.toDateString()===today.toDateString(),label:dateCalculator.formatDate(day,"d"),isMuted:isMuted,disabled:disable})}var arrays=split(days,7);return arrays}function monthInRows(date,before,after){var monthDate,months=[];angular.isDefined(before)&&null!==before&&(before=new Date(before.getFullYear(),before.getMonth(),1)),angular.isDefined(after)&&null!==after&&(after=new Date(after.getFullYear(),after.getMonth(),1));for(var i=0;12>i;i++){monthDate=new Date(date.getFullYear(),i,1);var disable=!1;angular.isDate(before)&&!dateCalculator.dateBeforeOther(monthDate,before)&&(disable=!0),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,monthDate)&&(disable=!0),months.push({date:monthDate,label:dateCalculator.formatDate(monthDate,"mmm"),disabled:disable})}var arrays=split(months,4);return arrays}function yearInRows(date,before,after){var yearDate,years=[];angular.isDefined(before)&&null!==before&&(before=new Date(before.getFullYear(),date.getMonth(),1)),angular.isDefined(after)&&null!==after&&(after=new Date(after.getFullYear(),date.getMonth(),1));for(var i=11;i>-1;i--){yearDate=new Date(date.getFullYear()-i,date.getMonth(),1);var disable=!1;angular.isDate(before)&&!dateCalculator.dateBeforeOther(yearDate,before)&&(disable=!0),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,yearDate)&&(disable=!0),years.push({date:yearDate,label:dateCalculator.formatDate(yearDate,"yyyy"),disabled:disable})}var arrays=split(years,4);return arrays}function createLabels(date,firstRange,lastRange,grayed,before,after){var label="",cssClass="";if(null!==label&&angular.isDate(date)){label=date.getDate(),grayed&&(cssClass="btn-grayed"),isSameDate(date,firstRange)||isSameDate(date,lastRange)?cssClass=grayed?"btn-grayed-selected-clicked":"btn-selected-clicked":inRange(date,firstRange,lastRange)?cssClass=grayed?"btn-grayed-selected":"btn-selected":isSameDate(date,new Date)&&(cssClass=grayed?"btn-grayed":"btn-today");var disable="";angular.isDate(before)&&!dateCalculator.dateBeforeOther(date,before)&&(disable="disabled"),angular.isDate(after)&&!dateCalculator.dateBeforeOther(after,date)&&(disable="disabled");var month=("0"+(date.getMonth()+1)).slice(-2),day=("0"+date.getDate()).slice(-2);return"<td><button "+disable+" ng-click=\"$select('"+date.getFullYear()+"/"+month+"/"+day+'\')" class="btn '+cssClass+'"><span>'+label+"</span></button></td>"}return"<td></td>"}return{createMonthDays:function(date,firstRange,lastRange,control,before,after){for(var label,domElem="",monthCall=callCullateData(date),tr="<tr>",i=0;i<monthCall.days;i++){var day=new Date(monthCall.firstDay.getFullYear(),monthCall.firstDay.getMonth(),monthCall.firstDay.getDate()+i);label=createLabels(null,firstRange,lastRange,!1,before,after),"prevMonth"===control?day.getMonth()!==date.getMonth()&&dateCalculator.dateBeforeOther(date,day)&&(label=createLabels(day,firstRange,lastRange,!0,before,after)):"nextMonth"===control&&day.getMonth()!==date.getMonth()&&dateCalculator.dateBeforeOther(day,date)&&(label=createLabels(day,firstRange,lastRange,!0,before,after)),day.getMonth()===date.getMonth()&&(label=createLabels(day,firstRange,lastRange,!1,before,after)),tr+=label,(i+1)%7===0&&(tr+="</tr>",domElem+=tr,tr="<tr>")}return domElem='<tbody id="secondCal">'+domElem+"</tbody>"},daysInRows:function(date,model,before,last){return daysInRows(date,model,before,last)},monthInRows:function(date,before,last){return monthInRows(date,before,last)},yearInRows:function(date,before,last){return yearInRows(date,before,last)}}}])}();
//# sourceMappingURL=tink-helper-date-angular.min.map